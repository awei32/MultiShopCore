# 多平台电商系统（MultiShopCore）需求文档

## 一、项目概述

### 1.1 项目目标

构建一套支持多终端（Web/APP/小程序）、多商家入驻、多渠道运营的综合性电商系统，实现用户购物全流程数字化、商家店铺自主管理、平台统一监管与运营，最终达成“用户便捷购物、商家高效经营、平台可持续盈利”的核心目标。

### 1.2 项目定位

- **核心模式**：B2B2C（平台+多商家+消费者）
- **目标用户**：
  - C端用户：终端消费者（个人用户）
  - B端用户：入驻商家（企业/个体商户）
  - 平台方：运营团队、管理员

### 1.3 项目范围

- **包含功能**：用户端交易系统、商家管理系统、平台管理系统、底层数据与技术支撑体系。
- **排除范围**：暂不包含跨境支付、区块链溯源、AR商品展示等扩展功能（可作为二期规划）。

## 二、功能需求

### 2.1 用户端（多终端适配）

#### 2.1.1 用户体系

| 功能模块 | 详细需求                                                                                          |
| -------- | ------------------------------------------------------------------------------------------------- |
| 注册登录 | 支持手机号验证码、微信/支付宝第三方授权登录；密码需满足复杂度校验（含大小写+数字+特殊字符）。     |
| 个人中心 | 支持头像/昵称修改、实名认证（对接公安接口）、收货地址管理（默认地址设置、地址库联想）。           |
| 会员体系 | 基于消费金额划分会员等级（普通/白银/黄金），等级对应折扣权益；积分可抵扣订单金额（100积分=1元）。 |

#### 2.1.2 商品交互

| 功能模块 | 详细需求                                                                                                           |
| -------- | ------------------------------------------------------------------------------------------------------------------ |
| 商品搜索 | 支持关键词模糊搜索、历史搜索记录；筛选条件含价格区间、销量、评分、品牌、规格；搜索结果支持按相关度/价格/销量排序。 |
| 商品详情 | 展示多图轮播（支持放大）、规格选择（颜色/尺寸联动库存）、图文详情、视频介绍、累计销量、实时库存、商家信息。        |
| 购物车   | 支持商品添加/删除/数量修改；自动计算选中商品总价；支持跨店铺结算（按店铺拆分订单）。                               |

#### 2.1.3 交易流程

| 功能模块 | 详细需求                                                                                                  |
| -------- | --------------------------------------------------------------------------------------------------------- |
| 下单结算 | 支持选择收货地址、优惠券/积分抵扣、备注留言；默认展示最近使用的支付方式（微信/支付宝/银行卡）。           |
| 订单管理 | 按状态分类（待付款/待发货/待收货/已完成/售后）；支持取消订单（待付款状态）、查看物流（对接快递100接口）。 |
| 售后处理 | 支持7天无理由退款（未拆封商品）、质量问题退货（需上传凭证）；售后进度实时更新，支持客服介入。             |

#### 2.1.4 互动功能

| 功能模块 | 详细需求                                                                           |
| -------- | ---------------------------------------------------------------------------------- |
| 商品评价 | 确认收货后可评价（星级+文字+5张以内图片/15秒以内视频）；支持追评（收货后30天内）。 |
| 消息通知 | 订单状态变更（短信+APP推送）、促销活动提醒（模板消息）、物流更新（推送）。         |

### 2.2 商家端（Web后台+移动端APP）

#### 2.2.1 店铺管理

| 功能模块   | 详细需求                                                                                            |
| ---------- | --------------------------------------------------------------------------------------------------- |
| 店铺信息   | 支持设置店铺名称、logo、简介、营业时间；需上传营业执照/经营许可证（平台审核通过后生效）。           |
| 店铺装修   | 提供模板化装修工具（轮播图、商品分类栏、活动专区）；支持预览效果后发布。                            |
| 子账号管理 | 可创建3个以内子账号，分配权限（商品管理/订单处理/售后处理）；记录操作日志（含操作人、时间、内容）。 |

#### 2.2.2 商品管理

| 功能模块 | 详细需求                                                                                             |
| -------- | ---------------------------------------------------------------------------------------------------- |
| 商品发布 | 支持选择平台类目（三级分类）、上传5张主图+详情图（支持批量上传）、设置多规格SKU（最多5个规格维度）。 |
| 库存管理 | 支持手动修改库存、设置库存预警（低于10件时提醒）；支持批量导入/导出库存数据（Excel格式）。           |
| 价格管理 | 可设置基础价、会员专属价；支持限时降价（需设置开始/结束时间，平台审核后生效）。                      |

#### 2.2.3 订单与财务

| 功能模块 | 详细需求                                                                                         |
| -------- | ------------------------------------------------------------------------------------------------ |
| 订单处理 | 新订单自动提醒；支持接单（15分钟内未接单自动取消）、打印电子面单（对接菜鸟驿站接口）、发货确认。 |
| 财务对账 | 展示交易流水（含订单号、金额、平台抽成比例1%-5%）；支持申请提现（最低100元，T+1到账）。          |

### 2.3 平台管理端（Web后台）

#### 2.3.1 商家管理

| 功能模块 | 详细需求                                                                                    |
| -------- | ------------------------------------------------------------------------------------------- |
| 入驻审核 | 审核商家提交的资质（营业执照、法人身份证）；支持设置入驻费（年费/保证金），缴费后开通店铺。 |
| 违规管理 | 对虚假宣传、售假等违规行为进行处罚（警告/下架商品/封店）；记录违规历史与处罚结果。          |

#### 2.3.2 运营与监管

| 功能模块 | 详细需求                                                                               |
| -------- | -------------------------------------------------------------------------------------- |
| 平台活动 | 支持创建平台级促销（满减、秒杀、拼团）；设置活动商品准入规则（评分≥4.5星）。          |
| 内容审核 | 自动+人工审核商品信息（敏感词过滤）、用户评价（含违规图片/文字拦截）；审核记录可追溯。 |

#### 2.3.3 数据中心

| 功能模块 | 详细需求                                                                  |
| -------- | ------------------------------------------------------------------------- |
| 数据大盘 | 展示GMV、活跃用户数、订单量、商家总数；支持按日/周/月筛选，生成趋势图表。 |
| 商家报表 | 按商家维度统计销售额、退款率、投诉率；支持导出报表（CSV格式）。           |

## 三、非功能需求

### 3.1 性能需求

- 页面响应时间：≤2秒（95%场景），搜索结果返回≤1秒。
- 并发支持：支持10万用户同时在线，秒杀活动峰值QPS≥5000。
- 数据存储：支持千万级商品数据、亿级订单数据存储，历史订单保留3年。

### 3.2 安全需求

- 数据加密：用户密码采用BCrypt加密，支付信息传输用HTTPS。
- 防攻击：支持防SQL注入、XSS攻击、验证码防刷（图形验证码+短信验证）。
- 权限控制：基于RBAC模型，不同角色仅能访问授权资源。

### 3.3 兼容性需求

- 终端适配：Web端兼容Chrome/Edge/ Firefox最新版；小程序支持微信/支付宝小程序。

### 3.4 可扩展性需求

- 模块化设计：核心功能（用户、商品、订单）解耦，支持独立升级。
- 接口开放：提供API网关，支持第三方系统对接（如ERP、物流系统）。

## 四、技术架构

### 4.1 技术栈

- 后端：Java 17（基于Maven构建，参考项目 `pom.xml`）、Spring Boot 2.7.x、Spring Cloud Alibaba。
- 前端：Web端Vue 3、APP端Flutter、小程序原生开发。
- 数据库：MySQL 8.0（主从架构）、Redis 6.2（缓存）、Elasticsearch 7.14（搜索）。

### 4.2 部署架构

- 采用微服务架构，拆分用户服务、商品服务、订单服务等；
- 部署环境：Docker容器化，Kubernetes编排，支持多区域部署。
